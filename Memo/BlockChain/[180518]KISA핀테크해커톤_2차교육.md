## KISA-NH 핀테크 2차 교육

농협API
* 전자 금융 서비스에 대한 이해
    * 전자적 장치를 통하여 금융 서비스를 자동화된 방식으로 이용하는 것
        * 은행 관점 : 인터넷뱅킹, 스마트폰 뱅킹 등
        * 전자금융거래법(Biz관점) : 전자자금이체, 직불전자지급수단, 선불전자지급수단
            * 선불전자지급수단
                * 코인의 경우 선불전자지급수단과 연관이 있다고 함
                    * 코인도 사실상 선불 교통카드, 상품권과 같은 의미를 가지고 있기 때문
                * 알리페이(중국)
            * 직불전자지급수단 : 체크카드와 유사
    * 전자금융관련 법규
        * 정보보호나 규제와 같은 내용 -> 지키지 않으면 상용화에서 문제가 발생함
        * 전자금융거래법 및 동 시행령
        * 정보통신망 이용 촉진 미 정보보호등에 관한 법률 및 동 시행령
        * 신용정보의 이용 및 보호에 관한 법률 및 동 시행령
            * 금융 API를 사용하게 되면 정보보호의 이슈가 발생함
                * 해당 정보 유출시, 바로 개인정보 유출 가능성 존재
            * 비금융 API의 경우에는 그 자체가 유출이 된다 해도 큰 정보 유출 이슈는 적으나..
        * 주요 금융공동망 - 금융결제원
            * 은행간의 규약 체결, 상호 결제시스템
            * 실시간 계좌 이체라던가..
            * 타행환공동망, 전자금융공동망 등..
    * 전자금융 서비스 현황
        * 펌뱅킹
            * 은행자체 펌뱅킹(토스에서 사용함)
            * 농협은행 연계된 시스템, 국민은행 연계된 시스템 등을 활용
            * 각종 ~페이, 간편결제에서 활용하고 있음
            * 집금 : 돈을 모은다는 의미
                * 다른 돈을 가져오는 것
            * 배분 : 돈을 나눈다는 의미
                * 다른 돈을 나눠주는 것
            * 집금, 배분을 통해 계좌 이체가 가능해짐
        * PG, 현재는 이보다 간편결제를 통해 이루어지는 것이 많아짐
            * 신용카드/계좌이체
        * 지로
            * 장표, 자동이체, 인터넷 지로, 납부자 계좌이체 등
* NH 오픈 API 구조 소개
    * 지원하는 이유
        * 기존에는 대기업에서만 지원했던 위와 같은 내용을 스타트업에게 지원
        * 테스트 바로 진행 가능하게 됨
    * 전체 API 종류 및 기능 설명
        * 다양한 API를 모두 사용하여 설계하여도 된다고 함
        * 실제 연동되는 것은 지원되는걸로 하기로 함
        * 출금이체/입금이체
        * 예금주조회
            * 실제 계좌주와 본인과의 일치 여부를 확인
        * 금융조회
        * 개인카드조회
            * 가계부
        * 기업카드조회
            * ERP, 기업 회계관리
        * 가상계좌
            * P2P, 가상화폐거래소
            * 계좌가 아님. 입금을 받기 위해 만들어진 식별 코드
                * 계좌 형태로 만들었기때문에 누가 보냈는지에 대한 확인이 가능
            * 수납, 수금
            * 이번 대회때 제공이 되지는 않을 것 같음
        * 신용카드
        * P2P자금관리
            * Crowd Funding
            * 제3자에게 예치를 해야할 때 은행에서 돈이 머물고 나머지 프로세스만을 진행
        * 자금출처관리
            * 가상화폐거래소 API
            * 가상계좌 : 실계좌 = 1:1
            * 자금세탁방지용
        * 약정관리
        * 약정계좌관리
        * ...
    * 대회 API 종류 및 기능 설명
        * 출금0530 for 간편결제
        * 출금5050 for 간편결제
        * 펀입금 for 간편결제
        * NH 입금 for 간편결제
        * ...
        * 가상화 서버를 지원하며, 두개 팀이 하나의 서버를 공유해서 활용할 수 있음
        * 꼭 해당 API로만 구성할 필요는 없으며, 실제 구현하다가 필요하다면 타 API를 설계에만 참고하도록 할 것
    * API 기능_출금
        * 출금 시에 이 계좌가 맞는지 확인(입금 계좌 재확인)
        * 출금 이체
            * 다른 곳에서 돈을 가져옴
        * 출금 이체 결과 확인 : 출금 이후 결과
            * 꼭 무조건 출금을 했을 때, 해당 내용을 넣어야 하는 것이 좋음
            * 대외 시스템, 결재원, 해당 은행, 타은행 등.. 여러 곳을 걸치게 되는데, 그에 따른 에러 복잡도가 증가함
                * 따라서 해당 처리, 완료에 대한 프로세스도 구현해야 함
    * API 기능_입금
        * 농협입금이체(핀-어카운트)
            * 계좌번호 대신에 그에 대한 핀-어카운트라는 것을 활용함(기능은 같음)
            * 실제 행사때도 발급되며 해당 내용을 활용하면 됨
            * 팀당 1개 발급 예정
                * 타팀과의 공유시, 서로 돈 거래가 가능해짐
        * 농협입금이체(계좌번호)
            * 돈 내보내는 것
        * 타행입금이체(계좌번호)
        * 입금이체 결과 확인
            * 해당 프로세스 꼭 존재해야 함
* OTA(One-Time Auth-) 클라이언트 모듈(인증)
    * 보안인증체계
    * 기존에는 Oauth2.0 그걸 쓴다고 함
    * 핀테크 서버 - 오픈 플랫폼 서버가 통신하는 구조
    * 토큰이 API 하나당 한개
    * 토큰에 의해 거래가 진행된다는 것
* NH 오픈 API 구조
    * NH 오픈 API구조_공통부
        * 핀테크 앱 일련번호 : 대회 때 제공
        * API서비스 코드 : 각 API마다 부여된 코드
        * 기관코드 : 대회 때 제공
        * 기관거래고유번호 : 핀테크 기업에서 식별하기 위한 identifier
            * unique 해야하며, 대회때는 제공해준다고 함
    * NH 오픈 API구조_예금주조회
        * B2B : 거래처 관리, ERP등에서 쓰임
            * 검증시에
        * B2C에서는 많이 쓰임
    * NH 오픈 API_구조 거래내역조회
        * 샘플코드를 참고할 것,
        * 기존 개념자체는 어려움
        * 신용법 때문에 입/출금보다 규제가 심함
        * output 중심으로 확인할 것
    * 개발 가이드가 10일 교육 이후 나온다고 함
    * 계좌 이체에 대해 API를 해주는 것이 아닌 아예 입금/ 출금 단까지 나눠서 제공함
        * 다양한 서비스 개발이 가능할 것
            * 출금, 입금 기능만 가지고도..
* NH 오픈 API 개발 방법 소개
    * 응답 결과 포맷은 json
    * 예시 : jsp 기반의 웹서버, javascript, ajax 통신을 통해 작업
    * process.jsp는 그대로 쓰면 된다고 함

해커톤 Open API 개발 환경 안내
* 참가 팀별 가상화 서버 계정 제공( O개)
* 제공 소트프웨어 Win7 ULT 64Bit
* 개발툴 : 이클립스
* 자바 JDK 1.8.0_144
* 톰캣 8.5.8
    * 게이트웨이로 활용하는 방식을 사용해야 할 듯
* 테스트 인증키와 같은 내용은 이미 있음
* API 개발 가이드를 참조
* 서버에 타 개발 툴 설치가 불가능함
    * 로컬에서 서버를 띄우고 API서버를 경유하는 것이 좋을 듯

실제 대회에서 어떤 서비스를 만들어야 하는지에 대한 생각을 하는게 좋음
* 대회에서 멘토링을 하면서 해당 서비스 구축시 어떤 API를 사용하는 것이 좋다고 멘토링이 가능함
어떤 API를 쓴다기 보다 어떤 서비스를 구축하는 것에 대해 초점을 맞출 것


너무 법규에 갇히지는 말 것
* 이 것 때문에 프로세스가 과하게 망가지는 건 옳지 않음
* 실제 만들고 싶은 아이디어를 구축해서 뒤집는 것이 좋음
    * 토스의 경우에도 해당 법규 중점이 아닌, 아이디어 중점으로 갔다는 것


예치금 관련된 내용도(B2B, 결제대금)형태로 구성을 해도 괜찮을 것 같다는 의견
* 대부분 중고장터와 같은 아이디어가 많이 나왔다고 함
    * 해당 내용을 활용하여 신뢰성 관련한 이슈 해결이 가능함

블록체인을 하려면 선입금이 중요
* 먼저 원화가 결정이 되야 다음이 결정됨
* 가상 계좌 요청시 실제 계좌도 요청이 되어야 구동 됨
* API로 거래를 끝내고 난 후, 요청/처리 내용이 정확하게 처리되었는지 관리 API를 활용하여 처리해야함
    * 은행의 경우 밤에 동시에 맞춘다.
    * 핀테크로 하더라도 마지막에 같이 맞추는 과정이 있어야 함
    * 은행을 믿지 말 것
P2P
* crowdfunding
    * 농협에서 적용하지는 못했다고 함
* 중계 프로세스를 거쳐야 한다고 함
* 이번에 새로 블록체인을 적용했다고 함
* 원리금 수취권(채권) 투자자의 채권을 확보하기 위해 대출자 ....
    * 이 권리 증서를 남기는 것
* P2P를 하려면 P2P중계 대부업 심사를 거쳐야 한다고 함
    * 대출, 원리금 상환과 같은 조금은 어려운 내용이 많다고 함